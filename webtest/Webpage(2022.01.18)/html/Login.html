<!DOCTYPE html>
<html style="font-size: 16px;">

<!-- head 부분 -->
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Login</title>

    <!-- css 파일. nicepage.css와, login.css 경로에 링크가 필요함. media 옵션은, 화면 배율 달라질때 (모바일 기기 등)에 대응. -->
    <link rel="stylesheet" href="nicepage.css" media="screen">
    <link rel="stylesheet" href="Login.css" media="screen">

    <!-- src를 통해 socket io cdn(컨텐츠 전송 네트워크. js 파일을 전달하는 외부 url)을 사용 -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.2.6, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "Website",
		"logo": "images/saturn1.png"
    }   
    </script>

    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Login">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">

    <style>
    </style>
</head>


<!-- body 부분 -->
<body class="u-body">

<!-- header 부분. 글로벌 링크(로그인, 회원가입, 사이트맵, 언어 선택등 웹사이트 어느 곳에서든지 이용할 수 있는 링크)등으로 구성된 영역. 세션에 따라 해당 부분 호출해 오는 식으로 구성. -->
<header class="u-clearfix u-grey-75 u-header u-header" id="sec-61f1">
  <div class="u-clearfix u-sheet u-sheet-1">
        <a href="#" data-page-id="59354799" class="u-image u-logo u-image-1" data-image-width="600" data-image-height="400" title="Home">
          <img src="images/saturn1.png" class="u-logo-image u-logo-image-1">
        </a>

        <span class="u-icon u-icon-circle u-text-palette-1-base u-icon-1">
          <svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 55 55" style="">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-af4d"></use>
          </svg>
          <svg class="u-svg-content" viewBox="0 0 55 55" x="0px" y="0px" id="svg-af4d" style="enable-background:new 0 0 55 55;">
            <path d="M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752
	c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348
	c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98
	c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033
	c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55
	c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287
	c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104
	c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1
	c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764
	l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5
	c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957
	c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545
	c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.52,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8
	s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.346-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545
	c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313
	c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z">
            </path>
          </svg>
        </span>


  <!-- 내비게이션 바의 스타일 지정 -->
  <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs>
                <symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;">
                  <rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
                </symbol>
              </defs>
              </svg>
            </a>
          </div>

        <!-- 웹페이지 평시 상태일 때 버튼 스타일 및 링크, 이름 지정 (세션에 따라 다르게 호출될 부분) -->
        <div class="u-custom-menu u-nav-container">

          
            <ul class="u-nav u-unstyled u-nav-1">

              <!--
              <li class="u-nav-item">
                <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Login.html" style="padding: 10px 20px;">Login</a>
              </li>
              -->

            
              <!-- session.setAttribute("id", "호출 받음");  // server.js에서 값 전달.

              
              <% if(session.getAttribute("id").equals("null")){ %> 
                <ul class="u-nav u-unstyled u-nav-1">
                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Home.html" style="padding: 10px 20px;">Home</a>
                </li>

                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Login.jsp" style="padding: 10px 20px;">Login</a>
                </li>

                <% } else { %> 
                  <a id = ''> ${id}님 환영합니다.</a> 
                  <li class="u-nav-item">
                    <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Home.html" style="padding: 10px 20px;">Home</a>
                  </li>

                  <li class="u-nav-item">
                  <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Illustration.html" style="padding: 10px 20px;">Illustation</a>
                  </li>

                  <li class="u-nav-item">
                  <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="About.html" style="padding: 10px 20px;">About</a>
                  </li>

                  <li class="u-nav-item">
                  <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Contact.html" style="padding: 10px 20px;">Contact</a>
                  </li>

                  <li class="u-nav-item">
                  <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Login.jsp" style="padding: 10px 20px;">Logout</a>
                  <li class="u-nav-item">
                <% }  %>
                  -->
            </ul>
        </div>
        
        <!-- 화면 작아졌을 때 검은 줄 3개 버튼 누르면 사이드바 출력 옵션. 추후 세션 설정되면 다듬기.
        <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                  <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html" style="padding: 10px 20px;">Home</a></li>
                  <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Login.html" style="padding: 10px 20px;">Login</a></li>
                </ul>
              </div>
            </div>

            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
        </div>
         -->
  </nav>
</div>
</header>


<!-- section. 내용적 흐름과 구조를 만들기 위해 내용을 나누는 용도. 로그인 폼은 섹션으로 구성되어 있다는걸 알 수 있음. -->
<section class="u-align-center u-clearfix u-section-1" id="sec-71c2">

  <div class="u-clearfix u-sheet u-sheet-1">
        <img class="u-image u-image-1" src="images/saturn1.png" data-image-width="600" data-image-height="400">

    <div class="u-align-center u-container-style u-group u-palette-5-dark-3 u-radius-50 u-shape-round u-group-1">
        <div class="u-container-layout u-valign-top u-container-layout-1">
            <span class="u-icon u-icon-circle u-text-palette-1-dark-1 u-icon-1">
              <svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 45.532 45.532" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-862c"></use></svg>
              <svg class="u-svg-content" viewBox="0 0 45.532 45.532" x="0px" y="0px" id="svg-862c" style="enable-background:new 0 0 45.532 45.532;"><g>
                  <path d="M22.766,0.001C10.194,0.001,0,10.193,0,22.766s10.193,22.765,22.766,22.765c12.574,0,22.766-10.192,22.766-22.765   S35.34,0.001,22.766,0.001z M22.766,6.808c4.16,0,7.531,3.372,7.531,7.53c0,4.159-3.371,7.53-7.531,7.53   c-4.158,0-7.529-3.371-7.529-7.53C15.237,10.18,18.608,6.808,22.766,6.808z M22.761,39.579c-4.149,0-7.949-1.511-10.88-4.012   c-0.714-0.609-1.126-1.502-1.126-2.439c0-4.217,3.413-7.592,7.631-7.592h8.762c4.219,0,7.619,3.375,7.619,7.592   c0,0.938-0.41,1.829-1.125,2.438C30.712,38.068,26.911,39.579,22.761,39.579z"></path>
                </g>
              </svg>
            </span>

          <!-- 로그인 제목 -->
          <h3 class="u-text u-text-default u-text-1">Log In</h3>

          <!-- 로그인 폼 크기 및 속성 정의 -->
          <div class="u-expanded-width u-form u-login-control u-form-1">
                <!-- POST 형식(url에 사용자 입력 정보 노출안되게) 으로 js 파일에 접근하기 위하여 form 설정. -->
                <form action="/login_check" method="post" class="u-clearfix u-form-custom-backend u-form-spacing-30 u-form-vertical u-inner-form" source="custom" name="form-3" style="padding: 10px;">

                  <!-- 1. 이메일 입력창 -->
                    <div class="u-form-group u-form-name">
                      <label for="userEmail" class="u-form-control-hidden u-label"></label>
                        <input id = "Email" type="text" name="userEmail" placeholder="Enter your Email" class="u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-white" required=""> <!-- 타입 텍스트인, usermail 이라는 이름의 입력창  -->
                    </div>

                  <!-- 2. 패스워드 입력창 -->
                    <div class="u-form-group u-form-password">
                      <label for="userPwd" class="u-form-control-hidden u-label"></label>
                        <input id = "Pwd" type="password" name="userPwd" placeholder="Enter your Password" class="u-border-2 u-border-white u-input u-input-rectangle u-radius-43 u-white" required=""> <!-- 타입 비밀번호인, userPwd 라는 이름의 입력창-->
                    </div>

                  <!-- 3. 로그인 버튼 -->
                    <div class="u-align-left u-form-group u-form-submit">
                      <a class="u-border-none u-btn u-btn-round u-btn-submit u-button-style u-palette-1-dark-1 u-radius-50 u-btn-1">Login</a>
                      <!-- button onclick=Login() 발동 시,소켓 emit으로 서버에 데이터 전송해줌. -->
                      <input type="submit" value="submit" class="u-form-control-hidden" button onclick=Login()>
                        <!-- <button onclick=Login()>Login</button> 클릭 버튼인, Login 이라는 이름의 버튼-->
                    </div>
                </form>
            </div>

            <!-- 비밀번호 찾기 페이지.링크는 아직 안정함. -->
            <a href="" class="u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-btn u-button-style u-login-control u-login-forgot-password u-none u-text-palette-1-base u-btn-2">Forgot password?</a>
      </div>

    </div>

  </div>
</section>

<!-- footer. 바닥글, 주로 웹문서 아래쪽에 있으며 저작권 등으로 구성된 영역
<footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-eb36"><div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">For more information,use contact form!</p>
</div>
</footer>
-->

<!-- 자바스크립트 문법이 쓰이는 영역. 소켓통신. -->
<script>
      // io.connect('{연결 URL:포트}') 임. 위 코드로 서버측과 연결함.
      var socket = io.connect('http://localhost:3000');  // 우선 소켓을 '로컬 url 3000번 포트'에 연결. 
  
      // emit 하는 데이터는 email과 passwd임. 이를 js로 보내서 DB에 저장된 email 및 pw와 일치하는지 확인.
      function Login(){ // 로그인 버튼 눌렀을 때
          socket.emit('Email', Email.value);  // 이메일 칸에 입력된 값을 보내줌.
          socket.emit('Pwd', Pwd.value);      // 패스워드 칸에 입력된 값을 보내줌.
      }
  
      // 트리거와 콜백함수 실행. 클라이언트에서 서버쪽에서 받을때는 on, 보낼때는 emit 사용.
      // on과 emit의 소켓 명은 동일해야 한다.
      socket.on('Success', function(data){  // 로그인 성공 시
          console.log(data)
          // 본래는 웹페이지가 띄워져야 함.
      });
  
      socket.on('Fail', msg => {  // 로그인 실패 시
          console.log('서버 메시지 :' + msg)
          // 로그인 거절 페이지 출력.
      });
    </script>
  </body>
</html>